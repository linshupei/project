layui.define("jquery",function(e){"use strict";var u=layui.jquery,i={config:{},index:layui.rate?layui.rate.index+1e4:0,set:function(e){var a=this;return a.config=u.extend({},a.config,e),a},on:function(e,a){return layui.onevent.call(this,n,e,a)}},l=function(){var a=this,e=a.config;return{setvalue:function(e){a.setvalue.call(a,e)},config:e}},n="rate",r="layui-rate",c="layui-icon-rate",f="layui-icon-rate-solid",s="layui-icon-rate-half",v="layui-icon-rate-solid layui-icon-rate-half",a="layui-icon-rate-solid layui-icon-rate",h="layui-icon-rate layui-icon-rate-half",t=function(e){var a=this;a.index=++i.index,a.config=u.extend({},a.config,i.config,e),a.render()};t.prototype.config={length:5,text:!1,readonly:!1,half:!1,value:0,theme:""},t.prototype.render=function(){var e=this,a=e.config,i=a.theme?'style="color: '+a.theme+';"':"";a.elem=u(a.elem),parseInt(a.value)!==a.value&&(a.half||(a.value=Math.ceil(a.value)-a.value<.5?Math.ceil(a.value):Math.floor(a.value)));for(var l='<ul class="layui-rate" '+(a.readonly?"readonly":"")+">",n=1;n<=a.length;n++){var t='<li class="layui-inline"><i class="layui-icon '+(n>Math.floor(a.value)?c:f)+'" '+i+"></i></li>";a.half&&parseInt(a.value)!==a.value&&n==Math.ceil(a.value)?l=l+'<li><i class="layui-icon layui-icon-rate-half" '+i+"></i></li>":l+=t}l+="</ul>"+(a.text?'<span class="layui-inline">'+a.value+"星":"")+"</span>";var o=a.elem,s=o.next("."+r);s[0]&&s.remove(),e.elemTemp=u(l),a.span=e.elemTemp.next("span"),a.setText&&a.setText(a.value),o.html(e.elemTemp),o.addClass("layui-inline"),a.readonly||e.action()},t.prototype.setvalue=function(e){var a=this,i=a.config;i.value=e,a.render()},t.prototype.action=function(){var e=this,n=e.config,t=e.elemTemp,o=t.find("i").width();t.children("li").each(function(e){var i=e+1,l=u(this);l.on("click",function(e){if(n.value=i,n.half){var a=e.pageX-u(this).offset().left;a<=o/2&&(n.value=n.value-.5)}n.text&&t.next("span").text(n.value+"星"),n.choose&&n.choose(n.value),n.setText&&n.setText(n.value)}),l.on("mousemove",function(e){if(t.find("i").each(function(){u(this).addClass(c).removeClass(v)}),t.find("i:lt("+i+")").each(function(){u(this).addClass(f).removeClass(h)}),n.half){var a=e.pageX-u(this).offset().left;a<=o/2&&l.children("i").addClass(s).removeClass(f)}}),l.on("mouseleave",function(){t.find("i").each(function(){u(this).addClass(c).removeClass(v)}),t.find("i:lt("+Math.floor(n.value)+")").each(function(){u(this).addClass(f).removeClass(h)}),n.half&&parseInt(n.value)!==n.value&&t.children("li:eq("+Math.floor(n.value)+")").children("i").addClass(s).removeClass(a)})})},t.prototype.events=function(){var e=this;e.config},i.render=function(e){var a=new t(e);return l.call(a)},e(n,i)});